<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alicia en el PaÃ­s de las Maravillas</title>
<style>
  body {
    background: linear-gradient(to bottom, #a8e6cf, #dcedc1);
    font-family: 'Trebuchet MS', sans-serif;
    text-align: center;
    overflow: hidden;
  }
  h1 { margin-top: 20px; color: #333; }
  .menu, .mundo, .juegos, .laberinto-container { display: none; }
  .activo { display: block; }

  button {
    padding: 12px 20px;
    margin: 10px;
    font-size: 18px;
    cursor: pointer;
    border-radius: 12px;
    border: none;
    background: #ffb6b9;
    transition: transform 0.3s, background 0.3s;
  }
  button:hover { background: #ff8c94; transform: scale(1.1); }

  .laberinto {
    display: grid;
    margin: 20px auto;
    background: #222;
    border: 5px solid #555;
    gap: 2px;
  }
  .celda {
    width: 25px;
    height: 25px;
    background: #eee;
  }
  .pared { background: #333; }
  .jugador { background: #4CAF50; }
  .meta { background: gold; }

  .volver { background: #b5ead7; margin-top: 20px; }
</style>
</head>
<body>

<h1>ğŸŒŸ Alicia en el PaÃ­s de las Maravillas ğŸŒŸ</h1>

<!-- ğŸ  MENÃš PRINCIPAL -->
<div class="menu activo" id="menu">
  <button onclick="mostrarSeccion('mundoLogico')">ğŸŒ¿ Mundo LÃ³gico</button>
  <button onclick="mostrarSeccion('mundoIlogico')">ğŸŒ€ Mundo IlÃ³gico</button>
  <button onclick="mostrarSeccion('juegos')">ğŸ® Juegos</button>
</div>

<!-- ğŸŒ¿ MUNDO LÃ“GICO -->
<div class="mundo" id="mundoLogico">
  <h2>ğŸŒ¿ Mundo LÃ³gico</h2>
  <p>AquÃ­ todo tiene sentidoâ€¦ o casi ğŸ˜‰</p>
  <p><b>Dato curioso:</b> El sombrerero loco se basa en un personaje real del siglo XIX.</p>
  <button class="volver" onclick="mostrarSeccion('menu')">Volver al MenÃº</button>
</div>

<!-- ğŸŒ€ MUNDO ILÃ“GICO -->
<div class="mundo" id="mundoIlogico">
  <h2>ğŸŒ€ Mundo IlÃ³gico</h2>
  <p>â€œEl tiempo corre al revÃ©s y las flores hablan.â€ ğŸŒ¸â³</p>
  <p><b>Dato curioso:</b> Lewis Carroll era matemÃ¡tico, por eso hay acertijos escondidos en el libro.</p>
  <button class="volver" onclick="mostrarSeccion('menu')">Volver al MenÃº</button>
</div>

<!-- ğŸ® JUEGOS -->
<div class="juegos" id="juegos">
  <h2>ğŸ® Juegos</h2>
  <button onclick="iniciarLaberinto('facil')">Laberinto FÃ¡cil</button>
  <button onclick="iniciarLaberinto('medio')">Laberinto Medio</button>
  <button onclick="iniciarLaberinto('dificil')">Laberinto DifÃ­cil</button>
  <button onclick="iniciarLaberinto('imposible')">Laberinto Imposible ğŸ˜ˆ</button>
  <button class="volver" onclick="mostrarSeccion('menu')">Volver al MenÃº</button>
</div>

<!-- ğŸ§­ LABERINTO -->
<div class="laberinto-container" id="laberintoContainer">
  <h2 id="tituloLaberinto"></h2>
  <div id="laberinto" class="laberinto"></div>
  <button class="volver" onclick="mostrarSeccion('juegos')">Volver a Juegos</button>
</div>

<script>
let jugador = { x: 0, y: 0 };
let meta = { x: 0, y: 0 };
let mapa = [];
let tamaÃ±o = 10;

function mostrarSeccion(id) {
  document.querySelectorAll('.menu, .mundo, .juegos, .laberinto-container')
    .forEach(s => s.classList.remove('activo'));
  document.getElementById(id).classList.add('activo');
}

function generarLaberinto(nivel) {
  if(nivel === 'facil') tamaÃ±o = 10;
  if(nivel === 'medio') tamaÃ±o = 15;
  if(nivel === 'dificil') tamaÃ±o = 20;
  if(nivel === 'imposible') tamaÃ±o = 25;

  mapa = Array.from({ length: tamaÃ±o }, () =>
    Array.from({ length: tamaÃ±o }, () => Math.random() < 0.3 ? 1 : 0)
  );

  // ğŸŸ¢ PosiciÃ³n inicial y meta garantizadas como camino
  jugador = { x: 0, y: 0 };
  meta = { x: tamaÃ±o - 1, y: tamaÃ±o - 1 };
  mapa[jugador.y][jugador.x] = 0;
  mapa[meta.y][meta.x] = 0;
}

function dibujarLaberinto() {
  const contenedor = document.getElementById('laberinto');
  contenedor.innerHTML = '';
  contenedor.style.gridTemplateColumns = `repeat(${tamaÃ±o}, 25px)`;

  mapa.forEach((fila, y) => {
    fila.forEach((celda, x) => {
      const div = document.createElement('div');
      div.classList.add('celda');
      if (celda === 1) div.classList.add('pared');
      if (jugador.x === x && jugador.y === y) div.classList.add('jugador');
      if (meta.x === x && meta.y === y) div.classList.add('meta');
      contenedor.appendChild(div);
    });
  });
}

function iniciarLaberinto(nivel) {
  generarLaberinto(nivel);
  document.getElementById('tituloLaberinto').textContent = 
    `ğŸ§­ Nivel: ${nivel.toUpperCase()}`;
  dibujarLaberinto();
  mostrarSeccion('laberintoContainer');
}

// ğŸ•¹ï¸ Movimiento con flechas
document.addEventListener('keydown', e => {
  if(!document.getElementById('laberintoContainer').classList.contains('activo')) return;
  e.preventDefault(); // âœ¨ evita scroll

  let nuevoX = jugador.x;
  let nuevoY = jugador.y;

  if (e.key === 'ArrowUp') nuevoY--;
  if (e.key === 'ArrowDown') nuevoY++;
  if (e.key === 'ArrowLeft') nuevoX--;
  if (e.key === 'ArrowRight') nuevoX++;

  // Validar lÃ­mites y paredes
  if (nuevoX >= 0 && nuevoX < tamaÃ±o && nuevoY >= 0 && nuevoY < tamaÃ±o && mapa[nuevoY][nuevoX] === 0) {
    jugador.x = nuevoX;
    jugador.y = nuevoY;
    dibujarLaberinto();

    if (jugador.x === meta.x && jugador.y === meta.y) {
      setTimeout(()=>{
        alert('ğŸ‰ Â¡Nivel completado!');
        mostrarSeccion('juegos');
      },100);
    }
  }
});
</script>
</body>
</html>
